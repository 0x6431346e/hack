<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Intro to forwarding · Aragon Developer Portal</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Intro to forwarding · Aragon Developer Portal"/><meta property="og:type" content="website"/><meta property="og:url" content="https://hack.aragon.one/index.html"/><meta property="og:description" content="The ACL allows Aragon apps to be interoperable between them by creating and managing permissions."/><meta property="og:image" content="https://hack.aragon.one/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://hack.aragon.one/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://hack.aragon.one/blog/atom.xml" title="Aragon Developer Portal Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://hack.aragon.one/blog/feed.xml" title="Aragon Developer Portal Blog RSS Feed"/><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/isotype.svg" alt="Aragon Developer Portal"/><h2 class="headerTitleWithLogo">Aragon Developer Portal</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/getting-started.html" target="_self">Get started</a></li><li class=""><a href="/docs/tutorial.html" target="_self">Tutorial</a></li><li class="siteNavGroupActive"><a href="/docs/aragonos-ref.html" target="_self">aragonOS</a></li><li class=""><a href="/docs/kernel_Kernel.html" target="_self">API</a></li><li class="siteNavGroupActive"><a href="/docs/aragonjs-ref.html" target="_self">aragon.js</a></li><li class="siteNavGroupActive"><a href="/docs/aragonui-intro.html" target="_self">Aragon UI</a></li><li class=""><a href="/en/help.html" target="_self">Help</a></li><li class=""><a href="/blog" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>The basics</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>The basics</h3><ul><li class="navListItem"><a class="navItem" href="/docs/getting-started.html">Getting started</a></li><li class="navListItem"><a class="navItem" href="/docs/acl-intro.html">Intro to the ACL</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/forwarding-intro.html">Intro to forwarding</a></li><li class="navListItem"><a class="navItem" href="/docs/upgradeability-intro.html">Intro to upgradeability</a></li><li class="navListItem"><a class="navItem" href="/docs/package-management.html">Package management</a></li><li class="navListItem"><a class="navItem" href="/docs/client.html">The Aragon client</a></li><li class="navListItem"><a class="navItem" href="/docs/human-readable-txs.html">Human readable transactions</a></li></ul></div><div class="navGroup navGroupActive"><h3>aragonOS</h3><ul><li class="navListItem"><a class="navItem" href="/docs/aragonos-ref.html">aragonOS reference documentation</a></li></ul></div><div class="navGroup navGroupActive"><h3>aragon.js</h3><ul><li class="navListItem"><a class="navItem" href="/docs/aragonjs-ref.html">aragon.js reference documentation</a></li><li class="navListItem"><a class="navItem" href="/docs/aragonjs-ref-clients.html">aragon.js reference documentation for clients/wrappers</a></li></ul></div><div class="navGroup navGroupActive"><h3>Aragon UI</h3><ul><li class="navListItem"><a class="navItem" href="/docs/aragonui-intro.html">Aragon UI intro</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Intro to forwarding</h1></header><article><div><span><p>The ACL allows Aragon apps to be interoperable between them by creating and managing permissions.</p>
<p>We explained how a <em>Token Manager</em> app may send an action to the <em>Voting</em> app, so if a vote passes, the <em>Voting</em> app can withdraw funds from the <em>Finance</em> app, for example.</p>
<p>This is possible thanks to a concept called Forwarders. A <strong>Forwarder</strong> is a contract that, given some conditions, will pass along a certain action to other contract(s).</p>
<p>This is an extract of our <em>Voting</em> app, and this is all the code required for making it a Forwarder:</p>
<pre><code class="hljs css solidity">    pragma solidity <span class="hljs-number">0.4</span><span class="hljs-number">.18</span>;

    import <span class="hljs-string">"@aragon/os/contracts/apps/AragonApp.sol"</span>;
    import <span class="hljs-string">"@aragon/os/contracts/common/IForwarder.sol"</span>;

    contract Voting is IForwarder, AragonApp {
        <span class="hljs-comment">/**
        * <span class="hljs-doctag">@notice</span> Creates a vote to execute the desired action, and casts a support vote
        * <span class="hljs-doctag">@dev</span> IForwarder interface conformance
        * <span class="hljs-doctag">@param</span> _evmScript Start vote with script
        */</span>
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forward</span><span class="hljs-params">(bytes _evmScript)</span> <span class="hljs-title">public</span> </span>{
            <span class="hljs-keyword">require</span>(canForward(msg.sender, _evmScript));
            _newVote(_evmScript, <span class="hljs-string">""</span>, <span class="hljs-keyword">true</span>);
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">canForward</span><span class="hljs-params">(address _sender, bytes _evmCallScript)</span> <span class="hljs-title">public</span> <span class="hljs-title">view</span> <span class="hljs-title">returns</span> <span class="hljs-params">(bool)</span> </span>{
            <span class="hljs-keyword">return</span> canPerform(_sender, CREATE_VOTES_ROLE, arr());
        }
    }

</code></pre>
<p><code>canForward</code> checks if a caller <code>canPerform</code> the action <code>CREATE_VOTES_ROLE</code>. If it can, it means the caller can create a vote.</p>
<p><code>forward</code> checks if a caller <code>canForward</code>, and if it can, it creates a new vote with an <code>_evmScript</code>.</p>
<p>This <code>_evmScript</code> is the action that will be executed if the voting passes, which can be withdrawing some funds from a <em>Finance</em> app, for example. But it can be any other action, and you don't have to worry about the special cases. It's abstracted away so you don't have to worry about what the script actually does</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="acl-intro.html">← Intro to the ACL</a><a class="docs-next button" href="upgradeability-intro.html">Intro to upgradeability →</a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer sc-bdVaJa bXwoTT" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/isotype.svg" alt="Aragon Developer Portal" width="66" height="58"/></a><div><h5>Documentation</h5><a href="/docs/getting-started.html">Get started</a><a href="/docs/tutorial.html">Tutorial</a><a href="/docs/aragonos-ref.html">aragonOS</a><a href="/docs/aragonjs-ref.html">aragon.js</a><a href="/docs/aragonui-intro.html">Aragon UI</a></div><div><h5>Community</h5><a href="http://wiki.aragon.one/projects/" target="_blank">User showcase</a><a href="https://aragon.chat" target="_blank">Community chat</a><a href="https://twitter.com/AragonProject" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://blog.aragon.one">Blog</a><a href="https://github.com/aragon">GitHub</a></div></section></footer></div></body></html><style data-styled-components="bXwoTT">
/* sc-component-id: sc-bdVaJa */
.sc-bdVaJa {} .bXwoTT{background:#6D8088 !important;}</style>